# dtool

词库处理工具，词库编码，词库格式转换，词库校验，出简不出全

## [拼音词库转换](./pkg/pinyin/)

**纯文本：**

| 描述     | 代号      | 词条格式              |
| :------- | :-------- | :-------------------- |
| 搜狗拼音 | sogou     | `{' ', '\'', "pw"}`   |
| qq 拼音  | qq        | `{' ', '\'', "cwf"}`  |
| 百度拼音 | baidu     | `{'\t', '\'', "wcf"}` |
| 谷歌拼音 | google    | `{'\t', ' ', "wfc"}`  |
| 拼音加加 | pyjj      | `字音字音字音...`     |
| 纯汉字   | word_only | 一词一行              |

> 纯汉字词库会[自动注音](./pkg/encoder/pinyin.go)，所以你可以当成注音工具使用。

**二进制：**

> 均不支持输出

| 描述                         | 代号        | 格式             |
| :--------------------------- | :---------- | :--------------- |
| 搜狗细胞词库、qq6.0 以上词库 | sogou_scel  | `.scel`\|`.qcel` |
| 搜狗拼音备份词库             | sogou_bin   | `.bin`           |
| qq6.0 以下词库               | qq_qpyd     | `.qpyd`          |
| 百度分类词库                 | baidu_bdict | `.bdict`\|`.bcd` |
| 紫光（华宇）                 | ziguang_uwl | `.uwl`           |
| 微软拼音用户自定义短语       | mspy_dat    | `.dat`           |
| 微软拼音自学习词汇           | mspy_udl    | `.dat`           |

## [字词码表转换](./pkg/table/)

**纯文本：**

| 描述 | 代号     | 词条格式                           |
| :--- | :------- | :--------------------------------- |
| 多多 | duoduo   | `词<tab>编码`                      |
| 冰凌 | bingling | `编码<tab>词`                      |
| 极点 | jidian   | `编码<tab>词1<space>词2<space>...` |

**二进制：**

| 描述               | 代号      | 格式   | 是否支持输出 |
| :----------------- | :-------- | :----- | :----------: |
| 百度手机自定义方案 | baidu_def | `.def` |      是      |
| 极点               | jidian_mb | `.mb`  |      否      |
| fcitx4(WIP)        | fcitx4_mb | `.mb`  |      否      |

## [全码转简码码表](./pkg/encoder/shortener.go)

> 仅支持多多格式，其他格式需先行转换

出简不出全规则：逗号，冒号分隔，默认 1，n 无限

```yaml
例子: "1:0, 2:3, 3:2, 6:n"
#  无 1 简，2 码 3 重，3 码 2 重，4 码 1 重，5 码 1 重，6 码无限重
```